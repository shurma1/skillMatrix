import{r as d,a0 as ar,a2 as wt,a3 as fe,q as Me,$ as _e,a1 as ae,_ as be,bX as xr,aT as Sr,aQ as lt,aa as je,a9 as wr,a6 as Rr,bY as Er,a7 as Ht,w as ir,bH as Mr,aR as nt,k as Dr,m as _r,l as Pr,n as xe,a$ as Lt,Z as Ne,o as Or,bl as kr,aO as Tr,j as O,W as sr,aK as lr,B as $r,bZ as Ar,U as Nr,V as jr,aF as zr,z as Fr,y as Ir,F as Le,I as Xe}from"./index-C2zTCuKe.js";function Rt(t,n,e){return(t-n)/(e-n)}function Mt(t,n,e,r){var o=Rt(n,e,r),a={};switch(t){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function We(t,n){return Array.isArray(t)?t[n]:t}var qe=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Hr=d.createContext({}),Lr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Bt=d.forwardRef(function(t,n){var e=t.prefixCls,r=t.value,o=t.valueIndex,a=t.onStartMove,i=t.onDelete,s=t.style,f=t.render,l=t.dragging,u=t.draggingDelete,g=t.onOffsetChange,y=t.onChangeComplete,b=t.onFocus,C=t.onMouseEnter,p=ar(t,Lr),c=d.useContext(qe),v=c.min,h=c.max,m=c.direction,E=c.disabled,k=c.keyboard,$=c.range,I=c.tabIndex,B=c.ariaLabelForHandle,P=c.ariaLabelledByForHandle,w=c.ariaRequired,x=c.ariaValueTextFormatterForHandle,M=c.styles,F=c.classNames,V="".concat(e,"-handle"),W=function(D){E||a(D,o)},J=function(D){b?.(D,o)},q=function(D){C(D,o)},Se=function(D){if(!E&&k){var R=null;switch(D.which||D.keyCode){case ae.LEFT:R=m==="ltr"||m==="btt"?-1:1;break;case ae.RIGHT:R=m==="ltr"||m==="btt"?1:-1;break;case ae.UP:R=m!=="ttb"?1:-1;break;case ae.DOWN:R=m!=="ttb"?-1:1;break;case ae.HOME:R="min";break;case ae.END:R="max";break;case ae.PAGE_UP:R=2;break;case ae.PAGE_DOWN:R=-2;break;case ae.BACKSPACE:case ae.DELETE:i(o);break}R!==null&&(D.preventDefault(),g(R,o))}},ce=function(D){switch(D.which||D.keyCode){case ae.LEFT:case ae.RIGHT:case ae.UP:case ae.DOWN:case ae.HOME:case ae.END:case ae.PAGE_UP:case ae.PAGE_DOWN:y?.();break}},Ce=Mt(m,r,v,h),ye={};if(o!==null){var se;ye={tabIndex:E?null:We(I,o),role:"slider","aria-valuemin":v,"aria-valuemax":h,"aria-valuenow":r,"aria-disabled":E,"aria-label":We(B,o),"aria-labelledby":We(P,o),"aria-required":We(w,o),"aria-valuetext":(se=We(x,o))===null||se===void 0?void 0:se(r),"aria-orientation":m==="ltr"||m==="rtl"?"horizontal":"vertical",onMouseDown:W,onTouchStart:W,onFocus:J,onMouseEnter:q,onKeyDown:Se,onKeyUp:ce}}var we=d.createElement("div",wt({ref:n,className:Me(V,_e(_e(_e({},"".concat(V,"-").concat(o+1),o!==null&&$),"".concat(V,"-dragging"),l),"".concat(V,"-dragging-delete"),u),F.handle),style:fe(fe(fe({},Ce),s),M.handle)},ye,p));return f&&(we=f(we,{index:o,prefixCls:e,value:r,dragging:l,draggingDelete:u})),we}),Br=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Wr=d.forwardRef(function(t,n){var e=t.prefixCls,r=t.style,o=t.onStartMove,a=t.onOffsetChange,i=t.values,s=t.handleRender,f=t.activeHandleRender,l=t.draggingIndex,u=t.draggingDelete,g=t.onFocus,y=ar(t,Br),b=d.useRef({}),C=d.useState(!1),p=be(C,2),c=p[0],v=p[1],h=d.useState(-1),m=be(h,2),E=m[0],k=m[1],$=function(x){k(x),v(!0)},I=function(x,M){$(M),g?.(x)},B=function(x,M){$(M)};d.useImperativeHandle(n,function(){return{focus:function(x){var M;(M=b.current[x])===null||M===void 0||M.focus()},hideHelp:function(){xr.flushSync(function(){v(!1)})}}});var P=fe({prefixCls:e,onStartMove:o,onOffsetChange:a,render:s,onFocus:I,onMouseEnter:B},y);return d.createElement(d.Fragment,null,i.map(function(w,x){var M=l===x;return d.createElement(Bt,wt({ref:function(V){V?b.current[x]=V:delete b.current[x]},dragging:M,draggingDelete:M&&u,style:We(r,x),key:x,value:w,valueIndex:x},P))}),f&&c&&d.createElement(Bt,wt({key:"a11y"},P,{value:i[E],valueIndex:null,dragging:l!==-1,draggingDelete:u,render:f,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),qr=function(n){var e=n.prefixCls,r=n.style,o=n.children,a=n.value,i=n.onClick,s=d.useContext(qe),f=s.min,l=s.max,u=s.direction,g=s.includedStart,y=s.includedEnd,b=s.included,C="".concat(e,"-text"),p=Mt(u,a,f,l);return d.createElement("span",{className:Me(C,_e({},"".concat(C,"-active"),b&&g<=a&&a<=y)),style:fe(fe({},p),r),onMouseDown:function(v){v.stopPropagation()},onClick:function(){i(a)}},o)},Ur=function(n){var e=n.prefixCls,r=n.marks,o=n.onClick,a="".concat(e,"-mark");return r.length?d.createElement("div",{className:a},r.map(function(i){var s=i.value,f=i.style,l=i.label;return d.createElement(qr,{key:s,prefixCls:a,style:f,value:s,onClick:o},l)})):null},Zr=function(n){var e=n.prefixCls,r=n.value,o=n.style,a=n.activeStyle,i=d.useContext(qe),s=i.min,f=i.max,l=i.direction,u=i.included,g=i.includedStart,y=i.includedEnd,b="".concat(e,"-dot"),C=u&&g<=r&&r<=y,p=fe(fe({},Mt(l,r,s,f)),typeof o=="function"?o(r):o);return C&&(p=fe(fe({},p),typeof a=="function"?a(r):a)),d.createElement("span",{className:Me(b,_e({},"".concat(b,"-active"),C)),style:p})},Xr=function(n){var e=n.prefixCls,r=n.marks,o=n.dots,a=n.style,i=n.activeStyle,s=d.useContext(qe),f=s.min,l=s.max,u=s.step,g=d.useMemo(function(){var y=new Set;if(r.forEach(function(C){y.add(C.value)}),o&&u!==null)for(var b=f;b<=l;)y.add(b),b+=u;return Array.from(y)},[f,l,u,o,r]);return d.createElement("div",{className:"".concat(e,"-step")},g.map(function(y){return d.createElement(Zr,{prefixCls:e,key:y,value:y,style:a,activeStyle:i})}))},Wt=function(n){var e=n.prefixCls,r=n.style,o=n.start,a=n.end,i=n.index,s=n.onStartMove,f=n.replaceCls,l=d.useContext(qe),u=l.direction,g=l.min,y=l.max,b=l.disabled,C=l.range,p=l.classNames,c="".concat(e,"-track"),v=Rt(o,g,y),h=Rt(a,g,y),m=function(I){!b&&s&&s(I,-1)},E={};switch(u){case"rtl":E.right="".concat(v*100,"%"),E.width="".concat(h*100-v*100,"%");break;case"btt":E.bottom="".concat(v*100,"%"),E.height="".concat(h*100-v*100,"%");break;case"ttb":E.top="".concat(v*100,"%"),E.height="".concat(h*100-v*100,"%");break;default:E.left="".concat(v*100,"%"),E.width="".concat(h*100-v*100,"%")}var k=f||Me(c,_e(_e({},"".concat(c,"-").concat(i+1),i!==null&&C),"".concat(e,"-track-draggable"),s),p.track);return d.createElement("div",{className:k,style:fe(fe({},E),r),onMouseDown:m,onTouchStart:m})},Gr=function(n){var e=n.prefixCls,r=n.style,o=n.values,a=n.startPoint,i=n.onStartMove,s=d.useContext(qe),f=s.included,l=s.range,u=s.min,g=s.styles,y=s.classNames,b=d.useMemo(function(){if(!l){if(o.length===0)return[];var p=a??u,c=o[0];return[{start:Math.min(p,c),end:Math.max(p,c)}]}for(var v=[],h=0;h<o.length-1;h+=1)v.push({start:o[h],end:o[h+1]});return v},[o,l,a,u]);if(!f)return null;var C=b!=null&&b.length&&(y.tracks||g.tracks)?d.createElement(Wt,{index:null,prefixCls:e,start:b[0].start,end:b[b.length-1].end,replaceCls:Me(y.tracks,"".concat(e,"-tracks")),style:g.tracks}):null;return d.createElement(d.Fragment,null,C,b.map(function(p,c){var v=p.start,h=p.end;return d.createElement(Wt,{index:c,prefixCls:e,style:fe(fe({},We(r,c)),g.track),start:v,end:h,key:c,onStartMove:i})}))},Yr=130;function qt(t){var n="targetTouches"in t?t.targetTouches[0]:t;return{pageX:n.pageX,pageY:n.pageY}}function Kr(t,n,e,r,o,a,i,s,f,l,u){var g=d.useState(null),y=be(g,2),b=y[0],C=y[1],p=d.useState(-1),c=be(p,2),v=c[0],h=c[1],m=d.useState(!1),E=be(m,2),k=E[0],$=E[1],I=d.useState(e),B=be(I,2),P=B[0],w=B[1],x=d.useState(e),M=be(x,2),F=M[0],V=M[1],W=d.useRef(null),J=d.useRef(null),q=d.useRef(null),Se=d.useContext(Hr),ce=Se.onDragStart,Ce=Se.onDragChange;Sr(function(){v===-1&&w(e)},[e,v]),d.useEffect(function(){return function(){document.removeEventListener("mousemove",W.current),document.removeEventListener("mouseup",J.current),q.current&&(q.current.removeEventListener("touchmove",W.current),q.current.removeEventListener("touchend",J.current))}},[]);var ye=function(R,T,_){T!==void 0&&C(T),w(R);var U=R;_&&(U=R.filter(function(A,N){return N!==v})),i(U),Ce&&Ce({rawValues:R,deleteIndex:_?v:-1,draggingIndex:v,draggingValue:T})},se=lt(function(D,R,T){if(D===-1){var _=F[0],U=F[F.length-1],A=r-_,N=o-U,j=R*(o-r);j=Math.max(j,A),j=Math.min(j,N);var G=a(_+j);j=G-_;var Q=F.map(function(re){return re+j});ye(Q)}else{var K=(o-r)*R,te=je(P);te[D]=F[D];var ue=f(te,K,D,"dist");ye(ue.values,ue.value,T)}}),we=function(R,T,_){R.stopPropagation();var U=_||e,A=U[T];h(T),C(A),V(U),w(U),$(!1);var N=qt(R),j=N.pageX,G=N.pageY,Q=!1;ce&&ce({rawValues:U,draggingIndex:T,draggingValue:A});var K=function(re){re.preventDefault();var Z=qt(re),ee=Z.pageX,Y=Z.pageY,Re=ee-j,de=Y-G,H=t.current.getBoundingClientRect(),ne=H.width,Ee=H.height,De,me;switch(n){case"btt":De=-de/Ee,me=Re;break;case"ttb":De=de/Ee,me=Re;break;case"rtl":De=-Re/ne,me=de;break;default:De=Re/ne,me=de}Q=l?Math.abs(me)>Yr&&u<P.length:!1,$(Q),se(T,De,Q)},te=function ue(re){re.preventDefault(),document.removeEventListener("mouseup",ue),document.removeEventListener("mousemove",K),q.current&&(q.current.removeEventListener("touchmove",W.current),q.current.removeEventListener("touchend",J.current)),W.current=null,J.current=null,q.current=null,s(Q),h(-1),$(!1)};document.addEventListener("mouseup",te),document.addEventListener("mousemove",K),R.currentTarget.addEventListener("touchend",te),R.currentTarget.addEventListener("touchmove",K),W.current=K,J.current=te,q.current=R.currentTarget},le=d.useMemo(function(){var D=je(e).sort(function(A,N){return A-N}),R=je(P).sort(function(A,N){return A-N}),T={};R.forEach(function(A){T[A]=(T[A]||0)+1}),D.forEach(function(A){T[A]=(T[A]||0)-1});var _=l?1:0,U=Object.values(T).reduce(function(A,N){return A+Math.abs(N)},0);return U<=_?P:e},[e,P,l]);return[v,b,k,le,we]}function Vr(t,n,e,r,o,a){var i=d.useCallback(function(b){return Math.max(t,Math.min(n,b))},[t,n]),s=d.useCallback(function(b){if(e!==null){var C=t+Math.round((i(b)-t)/e)*e,p=function(m){return(String(m).split(".")[1]||"").length},c=Math.max(p(e),p(n),p(t)),v=Number(C.toFixed(c));return t<=v&&v<=n?v:null}return null},[e,t,n,i]),f=d.useCallback(function(b){var C=i(b),p=r.map(function(h){return h.value});e!==null&&p.push(s(b)),p.push(t,n);var c=p[0],v=n-t;return p.forEach(function(h){var m=Math.abs(C-h);m<=v&&(c=h,v=m)}),c},[t,n,r,e,i,s]),l=function b(C,p,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof p=="number"){var h,m=C[c],E=m+p,k=[];r.forEach(function(w){k.push(w.value)}),k.push(t,n),k.push(s(m));var $=p>0?1:-1;v==="unit"?k.push(s(m+$*e)):k.push(s(E)),k=k.filter(function(w){return w!==null}).filter(function(w){return p<0?w<=m:w>=m}),v==="unit"&&(k=k.filter(function(w){return w!==m}));var I=v==="unit"?m:E;h=k[0];var B=Math.abs(h-I);if(k.forEach(function(w){var x=Math.abs(w-I);x<B&&(h=w,B=x)}),h===void 0)return p<0?t:n;if(v==="dist")return h;if(Math.abs(p)>1){var P=je(C);return P[c]=h,b(P,p-$,c,v)}return h}else{if(p==="min")return t;if(p==="max")return n}},u=function(C,p,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=C[c],m=l(C,p,c,v);return{value:m,changed:m!==h}},g=function(C){return a===null&&C===0||typeof a=="number"&&C<a},y=function(C,p,c){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=C.map(f),m=h[c],E=l(h,p,c,v);if(h[c]=E,o===!1){var k=a||0;c>0&&h[c-1]!==m&&(h[c]=Math.max(h[c],h[c-1]+k)),c<h.length-1&&h[c+1]!==m&&(h[c]=Math.min(h[c],h[c+1]-k))}else if(typeof a=="number"||a===null){for(var $=c+1;$<h.length;$+=1)for(var I=!0;g(h[$]-h[$-1])&&I;){var B=u(h,1,$);h[$]=B.value,I=B.changed}for(var P=c;P>0;P-=1)for(var w=!0;g(h[P]-h[P-1])&&w;){var x=u(h,-1,P-1);h[P-1]=x.value,w=x.changed}for(var M=h.length-1;M>0;M-=1)for(var F=!0;g(h[M]-h[M-1])&&F;){var V=u(h,-1,M-1);h[M-1]=V.value,F=V.changed}for(var W=0;W<h.length-1;W+=1)for(var J=!0;g(h[W+1]-h[W])&&J;){var q=u(h,1,W+1);h[W+1]=q.value,J=q.changed}}return{value:h[c],values:h}};return[f,y]}function Jr(t){return d.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var n=t.editable,e=t.draggableTrack,r=t.minCount,o=t.maxCount;return[!0,n,!n&&e,r||0,o]},[t])}var Qr=d.forwardRef(function(t,n){var e=t.prefixCls,r=e===void 0?"rc-slider":e,o=t.className,a=t.style,i=t.classNames,s=t.styles,f=t.id,l=t.disabled,u=l===void 0?!1:l,g=t.keyboard,y=g===void 0?!0:g,b=t.autoFocus,C=t.onFocus,p=t.onBlur,c=t.min,v=c===void 0?0:c,h=t.max,m=h===void 0?100:h,E=t.step,k=E===void 0?1:E,$=t.value,I=t.defaultValue,B=t.range,P=t.count,w=t.onChange,x=t.onBeforeChange,M=t.onAfterChange,F=t.onChangeComplete,V=t.allowCross,W=V===void 0?!0:V,J=t.pushable,q=J===void 0?!1:J,Se=t.reverse,ce=t.vertical,Ce=t.included,ye=Ce===void 0?!0:Ce,se=t.startPoint,we=t.trackStyle,le=t.handleStyle,D=t.railStyle,R=t.dotStyle,T=t.activeDotStyle,_=t.marks,U=t.dots,A=t.handleRender,N=t.activeHandleRender,j=t.track,G=t.tabIndex,Q=G===void 0?0:G,K=t.ariaLabelForHandle,te=t.ariaLabelledByForHandle,ue=t.ariaRequired,re=t.ariaValueTextFormatterForHandle,Z=d.useRef(null),ee=d.useRef(null),Y=d.useMemo(function(){return ce?Se?"ttb":"btt":Se?"rtl":"ltr"},[Se,ce]),Re=Jr(B),de=be(Re,5),H=de[0],ne=de[1],Ee=de[2],De=de[3],me=de[4],ge=d.useMemo(function(){return isFinite(v)?v:0},[v]),Oe=d.useMemo(function(){return isFinite(m)?m:100},[m]),ke=d.useMemo(function(){return k!==null&&k<=0?1:k},[k]),he=d.useMemo(function(){return typeof q=="boolean"?q?ke:!1:q>=0?q:!1},[q,ke]),pe=d.useMemo(function(){return Object.keys(_||{}).map(function(z){var S=_[z],L={value:Number(z)};return S&&wr(S)==="object"&&!d.isValidElement(S)&&("label"in S||"style"in S)?(L.style=S.style,L.label=S.label):L.label=S,L}).filter(function(z){var S=z.label;return S||typeof S=="number"}).sort(function(z,S){return z.value-S.value})},[_]),dt=Vr(ge,Oe,ke,pe,W,he),Ye=be(dt,2),ze=Ye[0],Ke=Ye[1],Ve=Rr(I,{value:$}),Dt=be(Ve,2),Fe=Dt[0],ur=Dt[1],ve=d.useMemo(function(){var z=Fe==null?[]:Array.isArray(Fe)?Fe:[Fe],S=be(z,1),L=S[0],X=L===void 0?ge:L,oe=Fe===null?[]:[X];if(H){if(oe=je(z),P||Fe===void 0){var Ie=P>=0?P+1:2;for(oe=oe.slice(0,Ie);oe.length<Ie;){var Te;oe.push((Te=oe[oe.length-1])!==null&&Te!==void 0?Te:ge)}}oe.sort(function($e,Ae){return $e-Ae})}return oe.forEach(function($e,Ae){oe[Ae]=ze($e)}),oe},[Fe,H,ge,P,ze]),Ue=function(S){return H?S:S[0]},ot=lt(function(z){var S=je(z).sort(function(L,X){return L-X});w&&!Er(S,ve,!0)&&w(Ue(S)),ur(S)}),_t=lt(function(z){z&&Z.current.hideHelp();var S=Ue(ve);M?.(S),Ht(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),F?.(S)}),dr=function(S){if(!(u||!ne||ve.length<=De)){var L=je(ve);L.splice(S,1),x?.(Ue(L)),ot(L);var X=Math.max(0,S-1);Z.current.hideHelp(),Z.current.focus(X)}},hr=Kr(ee,Y,ve,ge,Oe,ze,ot,_t,Ke,ne,De),Je=be(hr,5),Pt=Je[0],fr=Je[1],pr=Je[2],ht=Je[3],Ot=Je[4],kt=function(S,L){if(!u){var X=je(ve),oe=0,Ie=0,Te=Oe-ge;ve.forEach(function(He,at){var It=Math.abs(S-He);It<=Te&&(Te=It,oe=at),He<S&&(Ie=at)});var $e=oe;ne&&Te!==0&&(!me||ve.length<me)?(X.splice(Ie+1,0,S),$e=Ie+1):X[oe]=S,H&&!ve.length&&P===void 0&&X.push(S);var Ae=Ue(X);if(x?.(Ae),ot(X),L){var Be,Ze;(Be=document.activeElement)===null||Be===void 0||(Ze=Be.blur)===null||Ze===void 0||Ze.call(Be),Z.current.focus($e),Ot(L,$e,X)}else M?.(Ae),Ht(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),F?.(Ae)}},vr=function(S){S.preventDefault();var L=ee.current.getBoundingClientRect(),X=L.width,oe=L.height,Ie=L.left,Te=L.top,$e=L.bottom,Ae=L.right,Be=S.clientX,Ze=S.clientY,He;switch(Y){case"btt":He=($e-Ze)/oe;break;case"ttb":He=(Ze-Te)/oe;break;case"rtl":He=(Ae-Be)/X;break;default:He=(Be-Ie)/X}var at=ge+He*(Oe-ge);kt(ze(at),S)},mr=d.useState(null),Tt=be(mr,2),ft=Tt[0],$t=Tt[1],gr=function(S,L){if(!u){var X=Ke(ve,S,L);x?.(Ue(ve)),ot(X.values),$t(X.value)}};d.useEffect(function(){if(ft!==null){var z=ve.indexOf(ft);z>=0&&Z.current.focus(z)}$t(null)},[ft]);var br=d.useMemo(function(){return Ee&&ke===null?!1:Ee},[Ee,ke]),At=lt(function(z,S){Ot(z,S),x?.(Ue(ve))}),Nt=Pt!==-1;d.useEffect(function(){if(!Nt){var z=ve.lastIndexOf(fr);Z.current.focus(z)}},[Nt]);var Qe=d.useMemo(function(){return je(ht).sort(function(z,S){return z-S})},[ht]),Cr=d.useMemo(function(){return H?[Qe[0],Qe[Qe.length-1]]:[ge,Qe[0]]},[Qe,H,ge]),jt=be(Cr,2),zt=jt[0],Ft=jt[1];d.useImperativeHandle(n,function(){return{focus:function(){Z.current.focus(0)},blur:function(){var S,L=document,X=L.activeElement;(S=ee.current)!==null&&S!==void 0&&S.contains(X)&&X?.blur()}}}),d.useEffect(function(){b&&Z.current.focus(0)},[]);var yr=d.useMemo(function(){return{min:ge,max:Oe,direction:Y,disabled:u,keyboard:y,step:ke,included:ye,includedStart:zt,includedEnd:Ft,range:H,tabIndex:Q,ariaLabelForHandle:K,ariaLabelledByForHandle:te,ariaRequired:ue,ariaValueTextFormatterForHandle:re,styles:s||{},classNames:i||{}}},[ge,Oe,Y,u,y,ke,ye,zt,Ft,H,Q,K,te,ue,re,s,i]);return d.createElement(qe.Provider,{value:yr},d.createElement("div",{ref:ee,className:Me(r,o,_e(_e(_e(_e({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),ce),"".concat(r,"-horizontal"),!ce),"".concat(r,"-with-marks"),pe.length)),style:a,onMouseDown:vr,id:f},d.createElement("div",{className:Me("".concat(r,"-rail"),i?.rail),style:fe(fe({},D),s?.rail)}),j!==!1&&d.createElement(Gr,{prefixCls:r,style:we,values:ve,startPoint:se,onStartMove:br?At:void 0}),d.createElement(Xr,{prefixCls:r,marks:pe,dots:U,style:R,activeStyle:T}),d.createElement(Wr,{ref:Z,prefixCls:r,style:le,values:ht,draggingIndex:Pt,draggingDelete:pr,onStartMove:At,onOffsetChange:gr,onFocus:C,onBlur:p,handleRender:A,activeHandleRender:N,onChangeComplete:_t,onDelete:ne?dr:void 0}),d.createElement(Ur,{prefixCls:r,marks:pe,onClick:kt})))});const en=d.createContext({}),Ut=d.forwardRef((t,n)=>{const{open:e,draggingDelete:r,value:o}=t,a=d.useRef(null),i=e&&!r,s=d.useRef(null);function f(){nt.cancel(s.current),s.current=null}function l(){s.current=nt(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),s.current=null})}return d.useEffect(()=>(i?l():f(),f),[i,t.title,o]),d.createElement(ir,Object.assign({ref:Mr(a,n)},t,{open:i}))}),tn=t=>{const{componentCls:n,antCls:e,controlSize:r,dotSize:o,marginFull:a,marginPart:i,colorFillContentHover:s,handleColorDisabled:f,calc:l,handleSize:u,handleSizeHover:g,handleActiveColor:y,handleActiveOutlineColor:b,handleLineWidth:C,handleLineWidthHover:p,motionDurationMid:c}=t;return{[n]:Object.assign(Object.assign({},Pr(t)),{position:"relative",height:r,margin:`${xe(i)} ${xe(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${xe(a)} ${xe(i)}`},[`${n}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${c}`},[`${n}-track,${n}-tracks`]:{position:"absolute",transition:`background-color ${c}`},[`${n}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${n}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${n}-rail`]:{backgroundColor:t.railHoverBg},[`${n}-track`]:{backgroundColor:t.trackHoverBg},[`${n}-dot`]:{borderColor:s},[`${n}-handle::after`]:{boxShadow:`0 0 0 ${xe(C)} ${t.colorPrimaryBorderHover}`},[`${n}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${n}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:l(C).mul(-1).equal(),insetBlockStart:l(C).mul(-1).equal(),width:l(u).add(l(C).mul(2)).equal(),height:l(u).add(l(C).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${xe(C)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${c},
            inset-block-start ${c},
            width ${c},
            height ${c},
            box-shadow ${c},
            outline ${c}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:l(g).sub(u).div(2).add(p).mul(-1).equal(),insetBlockStart:l(g).sub(u).div(2).add(p).mul(-1).equal(),width:l(g).add(l(p).mul(2)).equal(),height:l(g).add(l(p).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${xe(p)} ${y}`,outline:`6px solid ${b}`,width:g,height:g,insetInlineStart:t.calc(u).sub(g).div(2).equal(),insetBlockStart:t.calc(u).sub(g).div(2).equal()}}},[`&-lock ${n}-handle`]:{"&::before, &::after":{transition:"none"}},[`${n}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${n}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${n}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${n}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:t.colorBgElevated,border:`${xe(C)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${n}-disabled`]:{cursor:"not-allowed",[`${n}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${n}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${n}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${n}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${xe(C)} ${f}`,insetInlineStart:0,insetBlockStart:0},[`
          ${n}-mark-text,
          ${n}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${e}-tooltip-inner`]:{minWidth:"unset"}})}},cr=(t,n)=>{const{componentCls:e,railSize:r,handleSize:o,dotSize:a,marginFull:i,calc:s}=t,f=n?"paddingBlock":"paddingInline",l=n?"width":"height",u=n?"height":"width",g=n?"insetBlockStart":"insetInlineStart",y=n?"top":"insetInlineStart",b=s(r).mul(3).sub(o).div(2).equal(),C=s(o).sub(r).div(2).equal(),p=n?{borderWidth:`${xe(C)} 0`,transform:`translateY(${xe(s(C).mul(-1).equal())})`}:{borderWidth:`0 ${xe(C)}`,transform:`translateX(${xe(t.calc(C).mul(-1).equal())})`};return{[f]:r,[u]:s(r).mul(3).equal(),[`${e}-rail`]:{[l]:"100%",[u]:r},[`${e}-track,${e}-tracks`]:{[u]:r},[`${e}-track-draggable`]:Object.assign({},p),[`${e}-handle`]:{[g]:b},[`${e}-mark`]:{insetInlineStart:0,top:0,[y]:s(r).mul(3).add(n?0:i).equal(),[l]:"100%"},[`${e}-step`]:{insetInlineStart:0,top:0,[y]:r,[l]:"100%",[u]:r},[`${e}-dot`]:{position:"absolute",[g]:s(r).sub(a).div(2).equal()}}},rn=t=>{const{componentCls:n,marginPartWithMark:e}=t;return{[`${n}-horizontal`]:Object.assign(Object.assign({},cr(t,!0)),{[`&${n}-with-marks`]:{marginBottom:e}})}},nn=t=>{const{componentCls:n}=t;return{[`${n}-vertical`]:Object.assign(Object.assign({},cr(t,!1)),{height:"100%"})}},on=t=>{const e=t.controlHeightLG/4,r=t.controlHeightSM/2,o=t.lineWidth+1,a=t.lineWidth+1*1.5,i=t.colorPrimary,s=new Lt(i).setA(.2).toRgbString();return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:s,handleColorDisabled:new Lt(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},an=Dr("Slider",t=>{const n=_r(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[tn(n),rn(n),nn(n)]},on);function pt(){const[t,n]=d.useState(!1),e=d.useRef(null),r=()=>{nt.cancel(e.current)},o=a=>{r(),a?n(a):e.current=nt(()=>{n(a)})};return d.useEffect(()=>r,[]),[t,o]}var sn=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e};function ln(t,n){return t||t===null?t:n||n===null?n:e=>typeof e=="number"?e.toString():""}const vt=Ne.forwardRef((t,n)=>{const{prefixCls:e,range:r,className:o,rootClassName:a,style:i,disabled:s,tooltipPrefixCls:f,tipFormatter:l,tooltipVisible:u,getTooltipPopupContainer:g,tooltipPlacement:y,tooltip:b={},onChangeComplete:C,classNames:p,styles:c}=t,v=sn(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:h}=t,{getPrefixCls:m,direction:E,className:k,style:$,classNames:I,styles:B,getPopupContainer:P}=Or("slider"),w=Ne.useContext(kr),x=s??w,{handleRender:M,direction:F}=Ne.useContext(en),W=(F||E)==="rtl",[J,q]=pt(),[Se,ce]=pt(),Ce=Object.assign({},b),{open:ye,placement:se,getPopupContainer:we,prefixCls:le,formatter:D}=Ce,R=ye??u,T=(J||Se)&&R!==!1,_=ln(D,l),[U,A]=pt(),N=H=>{C?.(H),A(!1)},j=(H,ne)=>H||(ne?W?"left":"right":"top"),G=m("slider",e),[Q,K,te]=an(G),ue=Me(o,k,I.root,p?.root,a,{[`${G}-rtl`]:W,[`${G}-lock`]:U},K,te);W&&!v.vertical&&(v.reverse=!v.reverse),Ne.useEffect(()=>{const H=()=>{nt(()=>{ce(!1)},1)};return document.addEventListener("mouseup",H),()=>{document.removeEventListener("mouseup",H)}},[]);const re=r&&!R,Z=M||((H,ne)=>{const{index:Ee}=ne,De=H.props;function me(he,pe,dt){var Ye,ze,Ke,Ve;dt&&((ze=(Ye=v)[he])===null||ze===void 0||ze.call(Ye,pe)),(Ve=(Ke=De)[he])===null||Ve===void 0||Ve.call(Ke,pe)}const ge=Object.assign(Object.assign({},De),{onMouseEnter:he=>{q(!0),me("onMouseEnter",he)},onMouseLeave:he=>{q(!1),me("onMouseLeave",he)},onMouseDown:he=>{ce(!0),A(!0),me("onMouseDown",he)},onFocus:he=>{var pe;ce(!0),(pe=v.onFocus)===null||pe===void 0||pe.call(v,he),me("onFocus",he,!0)},onBlur:he=>{var pe;ce(!1),(pe=v.onBlur)===null||pe===void 0||pe.call(v,he),me("onBlur",he,!0)}}),Oe=Ne.cloneElement(H,ge),ke=(!!R||T)&&_!==null;return re?Oe:Ne.createElement(Ut,Object.assign({},Ce,{prefixCls:m("tooltip",le??f),title:_?_(ne.value):"",value:ne.value,open:ke,placement:j(se??y,h),key:Ee,classNames:{root:`${G}-tooltip`},getPopupContainer:we||g||P}),Oe)}),ee=re?(H,ne)=>{const Ee=Ne.cloneElement(H,{style:Object.assign(Object.assign({},H.props.style),{visibility:"hidden"})});return Ne.createElement(Ut,Object.assign({},Ce,{prefixCls:m("tooltip",le??f),title:_?_(ne.value):"",open:_!==null&&T,placement:j(se??y,h),key:"tooltip",classNames:{root:`${G}-tooltip`},getPopupContainer:we||g||P,draggingDelete:ne.draggingDelete}),Ee)}:void 0,Y=Object.assign(Object.assign(Object.assign(Object.assign({},B.root),$),c?.root),i),Re=Object.assign(Object.assign({},B.tracks),c?.tracks),de=Me(I.tracks,p?.tracks);return Q(Ne.createElement(Qr,Object.assign({},v,{classNames:Object.assign({handle:Me(I.handle,p?.handle),rail:Me(I.rail,p?.rail),track:Me(I.track,p?.track)},de?{tracks:de}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},B.handle),c?.handle),rail:Object.assign(Object.assign({},B.rail),c?.rail),track:Object.assign(Object.assign({},B.track),c?.track)},Object.keys(Re).length?{tracks:Re}:{}),step:v.step,range:r,className:ue,style:Y,disabled:x,ref:n,prefixCls:G,handleRender:Z,activeHandleRender:ee,onChangeComplete:N})))}),Fn=t=>{const n=[t.lastname,t.firstname,t.patronymic].filter(Boolean);return n.length?n.map(e=>e[0]).join("").slice(0,2).toUpperCase():t.login.slice(0,2).toUpperCase()};var Et=function(t,n){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},Et(t,n)};function cn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Et(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ie=function(){return ie=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ie.apply(this,arguments)};function un(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function it(t,n,e,r){function o(a){return a instanceof e?a:new e(function(i){i(a)})}return new(e||(e=Promise))(function(a,i){function s(u){try{l(r.next(u))}catch(g){i(g)}}function f(u){try{l(r.throw(u))}catch(g){i(g)}}function l(u){u.done?a(u.value):o(u.value).then(s,f)}l((r=r.apply(t,n||[])).next())})}var mt,Zt;function dn(){if(Zt)return mt;Zt=1;var t=!1,n,e,r,o,a,i,s,f,l,u,g,y,b,C,p;function c(){if(!t){t=!0;var h=navigator.userAgent,m=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(h),E=/(Mac OS X)|(Windows)|(Linux)/.exec(h);if(y=/\b(iPhone|iP[ao]d)/.exec(h),b=/\b(iP[ao]d)/.exec(h),u=/Android/i.exec(h),C=/FBAN\/\w+;/i.exec(h),p=/Mobile/i.exec(h),g=!!/Win64/.exec(h),m){n=m[1]?parseFloat(m[1]):m[5]?parseFloat(m[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var k=/(?:Trident\/(\d+.\d+))/.exec(h);i=k?parseFloat(k[1])+4:n,e=m[2]?parseFloat(m[2]):NaN,r=m[3]?parseFloat(m[3]):NaN,o=m[4]?parseFloat(m[4]):NaN,o?(m=/(?:Chrome\/(\d+\.\d+))/.exec(h),a=m&&m[1]?parseFloat(m[1]):NaN):a=NaN}else n=e=r=a=o=NaN;if(E){if(E[1]){var $=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(h);s=$?parseFloat($[1].replace("_",".")):!0}else s=!1;f=!!E[2],l=!!E[3]}else s=f=l=!1}}var v={ie:function(){return c()||n},ieCompatibilityMode:function(){return c()||i>n},ie64:function(){return v.ie()&&g},firefox:function(){return c()||e},opera:function(){return c()||r},webkit:function(){return c()||o},safari:function(){return v.webkit()},chrome:function(){return c()||a},windows:function(){return c()||f},osx:function(){return c()||s},linux:function(){return c()||l},iphone:function(){return c()||y},mobile:function(){return c()||y||b||u||p},nativeApp:function(){return c()||C},android:function(){return c()||u},ipad:function(){return c()||b}};return mt=v,mt}var gt,Xt;function hn(){if(Xt)return gt;Xt=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return gt=n,gt}var bt,Gt;function fn(){if(Gt)return bt;Gt=1;var t=hn(),n;t.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(r,o){if(!t.canUseDOM||o&&!("addEventListener"in document))return!1;var a="on"+r,i=a in document;if(!i){var s=document.createElement("div");s.setAttribute(a,"return;"),i=typeof s[a]=="function"}return!i&&n&&r==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}return bt=e,bt}var Ct,Yt;function pn(){if(Yt)return Ct;Yt=1;var t=dn(),n=fn(),e=10,r=40,o=800;function a(i){var s=0,f=0,l=0,u=0;return"detail"in i&&(f=i.detail),"wheelDelta"in i&&(f=-i.wheelDelta/120),"wheelDeltaY"in i&&(f=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(s=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=f,f=0),l=s*e,u=f*e,"deltaY"in i&&(u=i.deltaY),"deltaX"in i&&(l=i.deltaX),(l||u)&&i.deltaMode&&(i.deltaMode==1?(l*=r,u*=r):(l*=o,u*=o)),l&&!s&&(s=l<1?-1:1),u&&!f&&(f=u<1?-1:1),{spinX:s,spinY:f,pixelX:l,pixelY:u}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},Ct=a,Ct}var yt,Kt;function vn(){return Kt||(Kt=1,yt=pn()),yt}var mn=vn();const gn=Tr(mn);function bn(t,n,e,r,o,a){a===void 0&&(a=0);var i=Ge(t,n,a),s=i.width,f=i.height,l=Math.min(s,e),u=Math.min(f,r);return l>u*o?{width:u*o,height:u}:{width:l,height:l/o}}function Cn(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function et(t,n,e,r,o){o===void 0&&(o=0);var a=Ge(n.width,n.height,o),i=a.width,s=a.height;return{x:Vt(t.x,i,e.width,r),y:Vt(t.y,s,e.height,r)}}function Vt(t,n,e,r){var o=n*r/2-e/2;return ut(t,-o,o)}function Jt(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function Qt(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function yn(t,n,e,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var s=i?xn:Sn,f=Ge(n.width,n.height,a),l=Ge(n.naturalWidth,n.naturalHeight,a),u={x:s(100,((f.width-e.width/o)/2-t.x/o)/f.width*100),y:s(100,((f.height-e.height/o)/2-t.y/o)/f.height*100),width:s(100,e.width/f.width*100/o),height:s(100,e.height/f.height*100/o)},g=Math.round(s(l.width,u.width*l.width/100)),y=Math.round(s(l.height,u.height*l.height/100)),b=l.width>=l.height*r,C=b?{width:Math.round(y*r),height:y}:{width:g,height:Math.round(g/r)},p=ie(ie({},C),{x:Math.round(s(l.width-C.width,u.x*l.width/100)),y:Math.round(s(l.height-C.height,u.y*l.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:p}}function xn(t,n){return Math.min(t,Math.max(0,n))}function Sn(t,n){return n}function wn(t,n,e,r,o,a){var i=Ge(n.width,n.height,e),s=ut(r.width/i.width*(100/t.width),o,a),f={x:s*i.width/2-r.width/2-i.width*s*(t.x/100),y:s*i.height/2-r.height/2-i.height*s*(t.y/100)};return{crop:f,zoom:s}}function Rn(t,n,e){var r=Cn(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function En(t,n,e,r,o,a){e===void 0&&(e=0);var i=Ge(n.naturalWidth,n.naturalHeight,e),s=ut(Rn(t,n,r),o,a),f=r.height>r.width?r.height/t.height:r.width/t.width,l={x:((i.width-t.width)/2-t.x)*f,y:((i.height-t.height)/2-t.y)*f};return{crop:l,zoom:s}}function er(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function Mn(t){return t*Math.PI/180}function Ge(t,n,e){var r=Mn(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function ut(t,n,e){return Math.min(Math.max(t,n),e)}function st(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Dn=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,_n=1,Pn=3,On=1,kn=function(t){cn(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=wn(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=o.crop,i=o.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=En(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,i=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var r,o,a,i,s,f,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var u=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,y=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,b=l.offsetWidth<g||l.offsetHeight<y,C=g/y,p=void 0;if(b)switch(e.state.mediaObjectFit){default:case"contain":p=u>C?{width:e.containerRect.height*C,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/C};break;case"horizontal-cover":p={width:e.containerRect.width,height:e.containerRect.width/C};break;case"vertical-cover":p={width:e.containerRect.height*C,height:e.containerRect.height};break}else p={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=ie(ie({},p),{naturalWidth:g,naturalHeight:y}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var c=e.props.cropSize?e.props.cropSize:bn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==c.height||((f=e.state.cropSize)===null||f===void 0?void 0:f.width)!==c.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(c),e.setState({cropSize:c},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(c),c}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var o=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+r.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,a,i=r.x,s=r.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=ie({},e.props.crop),(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o)},e.onDrag=function(r){var o=r.x,a=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(o===void 0||a===void 0)){var i=o-e.dragStartPosition.x,s=a-e.dragStartPosition.y,f={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?et(f,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):f;e.props.onCropChange(l)}}))},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),a=gn(r).pixelY,i=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(i,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,f;return(f=(s=e.props).onInteractionStart)===null||f===void 0?void 0:f.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,f;return(f=(s=e.props).onInteractionEnd)===null||f===void 0?void 0:f.call(s)})},250)}},e.getPointOnContainer=function(r,o){var a=r.x,i=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-o.x),y:e.containerRect.height/2-(i-o.y)}},e.getPointOnMedia=function(r){var o=r.x,a=r.y,i=e.props,s=i.crop,f=i.zoom;return{x:(o+s.x)/f,y:(a+s.y)/f}},e.setNewZoom=function(r,o,a){var i=a===void 0?{}:a,s=i.shouldUpdatePosition,f=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var l=ut(r,e.props.minZoom,e.props.maxZoom);if(f){var u=e.getPointOnContainer(o,e.containerPosition),g=e.getPointOnMedia(u),y={x:g.x*l-u.x,y:g.y*l-u.y},b=e.props.restrictPosition?et(y,e.mediaSize,e.state.cropSize,l,e.props.rotation):y;e.props.onCropChange(b)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?et(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return yn(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?et(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e.onKeyDown=function(r){var o,a,i=e.props,s=i.crop,f=i.onCropChange,l=i.keyboardStep,u=i.zoom,g=i.rotation,y=l;if(e.state.cropSize){r.shiftKey&&(y*=.2);var b=ie({},s);switch(r.key){case"ArrowUp":b.y-=y,r.preventDefault();break;case"ArrowDown":b.y+=y,r.preventDefault();break;case"ArrowLeft":b.x-=y,r.preventDefault();break;case"ArrowRight":b.x+=y,r.preventDefault();break;default:return}e.props.restrictPosition&&(b=et(b,e.mediaSize,e.state.cropSize,u,g)),r.repeat||(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o),f(b)}},e.onKeyUp=function(r){var o,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(a=(o=e.props).onInteractionEnd)===null||a===void 0||a.call(o)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Dn,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,o,a,i,s,f,l,u,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var y=this.getObjectFit();y!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:y},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},n.prototype.getObjectFit=function(){var e,r,o,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,f=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,l=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,u=f/l;return u<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=Jt(r,o),this.lastPinchRotation=Qt(r,o),this.onDragStart(er(r,o))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),i=er(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=Jt(o,a),f=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(f,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var l=Qt(o,a),u=r.props.rotation+(l-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=l})}},n.prototype.render=function(){var e=this,r,o=this.props,a=o.image,i=o.video,s=o.mediaProps,f=o.cropperProps,l=o.transform,u=o.crop,g=u.x,y=u.y,b=o.rotation,C=o.zoom,p=o.cropShape,c=o.showGrid,v=o.roundCropAreaPixels,h=o.style,m=h.containerStyle,E=h.cropAreaStyle,k=h.mediaStyle,$=o.classes,I=$.containerClassName,B=$.cropAreaClassName,P=$.mediaClassName,w=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(M){return e.containerRef=M},"data-testid":"container",style:m,className:st("reactEasyCrop_Container",I)},a?d.createElement("img",ie({alt:"",className:st("reactEasyCrop_Image",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},s,{src:a,ref:this.imageRef,style:ie(ie({},k),{transform:l||"translate(".concat(g,"px, ").concat(y,"px) rotate(").concat(b,"deg) scale(").concat(C,")")}),onLoad:this.onMediaLoad})):i&&d.createElement("video",ie({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:st("reactEasyCrop_Video",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ie(ie({},k),{transform:l||"translate(".concat(g,"px, ").concat(y,"px) rotate(").concat(b,"deg) scale(").concat(C,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(x){return d.createElement("source",ie({key:x.src},x))})),this.state.cropSize&&d.createElement("div",ie({ref:this.cropperRef,style:ie(ie({},E),{width:v?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:v?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:st("reactEasyCrop_CropArea",p==="round"&&"reactEasyCrop_CropAreaRound",c&&"reactEasyCrop_CropAreaGrid",B)},f)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Pn,minZoom:_n,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:On},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(d.Component);const Pe="img-crop",xt=1,tt=.1,ct=0,tr=-180,rr=180,St=1,nr=.5,or=2,rt=.01,Tn=d.forwardRef((t,n)=>{const{cropperRef:e,zoomSlider:r,rotationSlider:o,aspectSlider:a,showReset:i,resetBtnText:s,modalImage:f,aspect:l,minZoom:u,maxZoom:g,cropShape:y,showGrid:b,cropperProps:C}=t,[p,c]=d.useState(xt),[v,h]=d.useState(ct),[m,E]=d.useState(l),k=p!==xt||v!==ct||m!==l,$=()=>{c(xt),h(ct),E(l)},[I,B]=d.useState({x:0,y:0}),P=d.useRef({width:0,height:0,x:0,y:0}),w=d.useCallback((V,W)=>{P.current=W},[]);d.useImperativeHandle(n,()=>({rotation:v,cropPixelsRef:P,onReset:$}));const x="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",M="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",F="[flex:1]";return O.jsxs(O.Fragment,{children:[O.jsx(kn,Object.assign({},C,{ref:e,image:f,crop:I,zoom:p,rotation:v,aspect:m,minZoom:u,maxZoom:g,zoomWithScroll:r,cropShape:y,showGrid:b,onCropChange:B,onZoomChange:c,onRotationChange:h,onCropComplete:w,classes:{containerClassName:`${Pe}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${Pe}-media`}})),r&&O.jsxs("section",{className:`${Pe}-control ${Pe}-control-zoom ${x}`,children:[O.jsx("button",{className:M,onClick:()=>c(+(p-tt).toFixed(1)),disabled:p-tt<u,children:"－"}),O.jsx(vt,{className:F,min:u,max:g,step:tt,value:p,onChange:c}),O.jsx("button",{className:M,onClick:()=>c(+(p+tt).toFixed(1)),disabled:p+tt>g,children:"＋"})]}),o&&O.jsxs("section",{className:`${Pe}-control ${Pe}-control-rotation ${x}`,children:[O.jsx("button",{className:`${M} [font-size:16px]`,onClick:()=>h(v-St),disabled:v===tr,children:"↺"}),O.jsx(vt,{className:F,min:tr,max:rr,step:St,value:v,onChange:h}),O.jsx("button",{className:`${M} [font-size:16px]`,onClick:()=>h(v+St),disabled:v===rr,children:"↻"})]}),a&&O.jsxs("section",{className:`${Pe}-control ${Pe}-control-aspect ${x}`,children:[O.jsx("button",{className:M,onClick:()=>E(+(m-rt).toFixed(2)),disabled:m-rt<nr,children:"↕️"}),O.jsx(vt,{className:F,min:nr,max:or,step:rt,value:m,onChange:E}),O.jsx("button",{className:M,onClick:()=>E(+(m+rt).toFixed(2)),disabled:m+rt>or,children:"↔️"})]}),i&&(r||o||a)&&O.jsx($r,{className:"[bottom:20px] [position:absolute]",style:k?{}:{opacity:.3,pointerEvents:"none"},onClick:$,children:s})]})});var $n=d.memo(Tn);function An(t,n){n===void 0&&(n={});var e=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var Nn=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";An(Nn,{insertAt:"top"});const jn=d.forwardRef((t,n)=>{const{quality:e=.4,fillColor:r="white",zoomSlider:o=!0,rotationSlider:a=!1,aspectSlider:i=!1,showReset:s=!1,resetText:f,aspect:l=1,minZoom:u=1,maxZoom:g=3,cropShape:y="rect",showGrid:b=!1,cropperProps:C,modalClassName:p,modalTitle:c,modalWidth:v,modalOk:h,modalCancel:m,onModalOk:E,onModalCancel:k,modalProps:$,beforeCrop:I,children:B}=t,P=d.useRef({});P.current.onModalOk=E,P.current.onModalCancel=k,P.current.beforeCrop=I;const w=d.useRef(null),x=d.useCallback(D=>{var R;const T=document.createElement("canvas"),_=T.getContext("2d"),A=(((R=D?.getRootNode)===null||R===void 0?void 0:R.call(D))||document).querySelector(`.${Pe}-media`),{width:N,height:j,x:G,y:Q}=w.current.cropPixelsRef.current;if(a&&w.current.rotation!==ct){const{naturalWidth:K,naturalHeight:te}=A,ue=w.current.rotation*(Math.PI/180),re=Math.abs(Math.sin(ue)),Z=Math.abs(Math.cos(ue)),ee=K*Z+te*re,Y=te*Z+K*re;T.width=ee,T.height=Y,_.fillStyle=r,_.fillRect(0,0,ee,Y);const Re=ee/2,de=Y/2;_.translate(Re,de),_.rotate(ue),_.translate(-Re,-de);const H=(ee-K)/2,ne=(Y-te)/2;_.drawImage(A,0,0,K,te,H,ne,K,te);const Ee=_.getImageData(0,0,ee,Y);T.width=N,T.height=j,_.putImageData(Ee,-G,-Q)}else T.width=N,T.height=j,_.fillStyle=r,_.fillRect(0,0,N,j),_.drawImage(A,G,Q,N,j,0,0,N,j);return T},[r,a]),[M,F]=d.useState(""),V=d.useRef(),W=d.useRef(),J=d.useCallback(D=>it(void 0,[D],void 0,function*({beforeUpload:R,file:T,resolve:_,reject:U}){const A=T;if(typeof R!="function"){_(A);return}try{const N=yield R(T,[T]);_(N===!1?!1:N!==!0&&N||A)}catch(N){U(N)}}),[]),q=d.useCallback(D=>(R,T)=>new Promise((_,U)=>it(void 0,void 0,void 0,function*(){let A=R;if(typeof P.current.beforeCrop=="function")try{const j=yield P.current.beforeCrop(R,T);if(j===!1)return J({beforeUpload:D,file:R,resolve:_,reject:U});j!==!0&&(A=j||R)}catch{return J({beforeUpload:D,file:R,resolve:_,reject:U})}const N=new FileReader;N.addEventListener("load",()=>{typeof N.result=="string"&&F(N.result)}),N.readAsDataURL(A),V.current=()=>{var j,G;F(""),w.current.onReset();let Q=!1;(G=(j=P.current).onModalCancel)===null||G===void 0||G.call(j,K=>{_(K),Q=!0}),Q||_(lr.LIST_IGNORE)},W.current=j=>it(void 0,void 0,void 0,function*(){F(""),w.current.onReset();const G=x(j.target),{type:Q,name:K,uid:te}=A;G.toBlob(ue=>it(void 0,void 0,void 0,function*(){const re=new File([ue],K,{type:Q});Object.assign(re,{uid:te}),J({beforeUpload:D,file:re,resolve:Z=>{var ee,Y;_(Z),(Y=(ee=P.current).onModalOk)===null||Y===void 0||Y.call(ee,Z)},reject:Z=>{var ee,Y;U(Z),(Y=(ee=P.current).onModalOk)===null||Y===void 0||Y.call(ee,Z)}})}),Q,e)})})),[x,e,J]),Se=d.useCallback(D=>{const R=Array.isArray(D)?D[0]:D,T=R.props,{beforeUpload:_,accept:U}=T,A=un(T,["beforeUpload","accept"]);return Object.assign(Object.assign({},R),{props:Object.assign(Object.assign({},A),{accept:U||"image/*",beforeUpload:q(_)})})},[q]),ce=d.useMemo(()=>{const D={};return v!==void 0&&(D.width=v),h!==void 0&&(D.okText=h),m!==void 0&&(D.cancelText=m),D},[m,h,v]),Ce=`${Pe}-modal${p?` ${p}`:""}`,se=(typeof window>"u"?"":window.navigator.language)==="zh-CN",we=c||(se?"编辑图片":"Edit image"),le=f||(se?"重置":"Reset");return O.jsxs(O.Fragment,{children:[Se(B),M&&O.jsx(sr,Object.assign({},$,ce,{open:!0,title:we,onCancel:V.current,onOk:W.current,wrapClassName:Ce,maskClosable:!1,destroyOnClose:!0,children:O.jsx($n,{ref:w,cropperRef:n,zoomSlider:o,rotationSlider:a,aspectSlider:i,showReset:s,resetBtnText:le,modalImage:M,aspect:l,minZoom:u,maxZoom:g,cropShape:y,showGrid:b,cropperProps:C})}))]})}),In=({avatarId:t,initials:n,onChange:e,size:r=96,tooltip:o="Изменить аватарку",crop:a=!0,aspect:i=1,quality:s=.9,childrenOverlay:f})=>{const[l,u]=d.useState(!1),[g,{isLoading:y}]=Ar(),{data:b}=Nr({id:t,thumb:!0},{skip:!t}),C=d.useMemo(()=>b?URL.createObjectURL(b):void 0,[b]),p=v=>{const h=v.type.startsWith("image/"),m=v.size/1024/1024<5;return h?m?!0:(alert("Изображение должно быть меньше 5MB"),!1):(alert("Можно загружать только изображения"),!1)},c=O.jsx(lr,{accept:"image/*",showUploadList:!1,customRequest:async({file:v,onSuccess:h,onError:m})=>{try{const E=await g({image:v}).unwrap();e(E.id),h&&h({},new XMLHttpRequest)}catch(E){m&&m(E)}},children:O.jsx(ir,{title:o,children:O.jsxs("div",{style:{position:"relative",display:"inline-block",cursor:"pointer"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[O.jsx(jr,{size:r,src:C||(t?`${zr}/api/image/${t}?thumb=true`:void 0),style:{transition:"all 0.3s ease",filter:l||y?"brightness(0.6)":"none"},children:n}),(l||y||f)&&O.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:r/4},children:y?O.jsx(Fr,{style:{color:"white"}}):f||O.jsx(Ir,{})})]})})});return a?O.jsx(jn,{showGrid:!0,aspect:i,quality:s,modalTitle:"Обрезать изображение",beforeCrop:p,modalOk:"Применить",modalCancel:"Отмена",children:c}):c},Hn=({open:t,user:n,confirmLoading:e,onCancel:r,onSubmit:o})=>{const[a]=Le.useForm(),i=async()=>{try{const s=await a.validateFields();o(s)}catch{}};return O.jsx(sr,{open:t,title:"Редактировать пользователя",onCancel:r,okText:"Сохранить",cancelText:"Отмена",confirmLoading:e,onOk:i,destroyOnHidden:!0,children:O.jsxs(Le,{form:a,layout:"vertical",initialValues:{login:n?.login,firstname:n?.firstname,lastname:n?.lastname,patronymic:n?.patronymic,email:n?.email},children:[O.jsx(Le.Item,{name:"login",label:"Логин",rules:[{required:!0,message:"Введите логин"}],children:O.jsx(Xe,{})}),O.jsx(Le.Item,{name:"lastname",label:"Фамилия",rules:[{required:!0,message:"Введите фамилию"}],children:O.jsx(Xe,{})}),O.jsx(Le.Item,{name:"firstname",label:"Имя",rules:[{required:!0,message:"Введите имя"}],children:O.jsx(Xe,{})}),O.jsx(Le.Item,{name:"patronymic",label:"Отчество",rules:[{required:!0,message:"Введите отчество"}],children:O.jsx(Xe,{})}),O.jsx(Le.Item,{name:"email",label:"Email",rules:[{type:"email",message:"Некорректный email"},{required:!1}],children:O.jsx(Xe,{})}),O.jsx(Le.Item,{name:"password",label:"Пароль",rules:[{min:6,message:"Пароль должен быть не менее 6 символов"}],children:O.jsx(Xe.Password,{placeholder:"Оставьте пустым чтобы не менять"})})]})})};export{In as A,Hn as E,Fn as g};
