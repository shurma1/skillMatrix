import{r,aj as D,a2 as F,k as H,m as L,l as _,o as B,q as U,a8 as V,h as X,aQ as q,aR as b,ag as A}from"./index-C2zTCuKe.js";var Q={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},Y=function(n,o){return r.createElement(D,F({},n,{ref:o,icon:Q}))},le=r.forwardRef(Y);const G=t=>{const{value:n,formatter:o,precision:e,decimalSeparator:a,groupSeparator:m="",prefixCls:i}=t;let c;if(typeof o=="function")c=o(n);else{const s=String(n),f=s.match(/^(-?)(\d*)(\.(\d+))?$/);if(!f||s==="-")c=s;else{const d=f[1];let p=f[2]||"0",u=f[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,m),typeof e=="number"&&(u=u.padEnd(e,"0").slice(0,e>0?e:0)),u&&(u=`${a}${u}`),c=[r.createElement("span",{key:"int",className:`${i}-content-value-int`},d,p),u&&r.createElement("span",{key:"decimal",className:`${i}-content-value-decimal`},u)]}}return r.createElement("span",{className:`${i}-content-value`},c)},J=t=>{const{componentCls:n,marginXXS:o,padding:e,colorTextDescription:a,titleFontSize:m,colorTextHeading:i,contentFontSize:c,fontFamily:s}=t;return{[n]:Object.assign(Object.assign({},_(t)),{[`${n}-title`]:{marginBottom:o,color:a,fontSize:m},[`${n}-skeleton`]:{paddingTop:e},[`${n}-content`]:{color:i,fontSize:c,fontFamily:s,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:o},[`${n}-content-suffix`]:{marginInlineStart:o}}})}},K=t=>{const{fontSizeHeading3:n,fontSize:o}=t;return{titleFontSize:o,contentFontSize:n}},W=H("Statistic",t=>{const n=L(t,{});return[J(n)]},K);var Z=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};const y=r.forwardRef((t,n)=>{const{prefixCls:o,className:e,rootClassName:a,style:m,valueStyle:i,value:c=0,title:s,valueRender:f,prefix:d,suffix:p,loading:u=!1,formatter:l,precision:g,decimalSeparator:S=".",groupSeparator:E=",",onMouseEnter:w,onMouseLeave:h}=t,$=Z(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:N,direction:j,className:T,style:R}=B("statistic"),v=N("statistic",o),[k,z,I]=W(v),x=r.createElement(G,{decimalSeparator:S,groupSeparator:E,prefixCls:v,formatter:l,precision:g,value:c}),M=U(v,{[`${v}-rtl`]:j==="rtl"},T,e,a,z,I),O=r.useRef(null);r.useImperativeHandle(n,()=>({nativeElement:O.current}));const P=V($,{aria:!0,data:!0});return k(r.createElement("div",Object.assign({},P,{ref:O,className:M,style:Object.assign(Object.assign({},R),m),onMouseEnter:w,onMouseLeave:h}),s&&r.createElement("div",{className:`${v}-title`},s),r.createElement(X,{paragraph:!1,loading:u,className:`${v}-skeleton`},r.createElement("div",{style:i,className:`${v}-content`},d&&r.createElement("span",{className:`${v}-content-prefix`},d),f?f(x):x,p&&r.createElement("span",{className:`${v}-content-suffix`},p)))))}),ee=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function te(t,n){let o=t;const e=/\[[^\]]*]/g,a=(n.match(e)||[]).map(s=>s.slice(1,-1)),m=n.replace(e,"[]"),i=ee.reduce((s,[f,d])=>{if(s.includes(f)){const p=Math.floor(o/d);return o-=p*d,s.replace(new RegExp(`${f}+`,"g"),u=>{const l=u.length;return p.toString().padStart(l,"0")})}return s},m);let c=0;return i.replace(e,()=>{const s=a[c];return c+=1,s})}function ne(t,n,o){const{format:e=""}=n,a=new Date(t).getTime(),m=Date.now(),i=Math.max(o?a-m:m-a,0);return te(i,e)}var ae=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};function oe(t){return new Date(t).getTime()}const C=t=>{const{value:n,format:o="HH:mm:ss",onChange:e,onFinish:a,type:m}=t,i=ae(t,["value","format","onChange","onFinish","type"]),c=m==="countdown",[s,f]=r.useState(null),d=q(()=>{const l=Date.now(),g=oe(n);f({});const S=c?g-l:l-g;return e?.(S),c&&g<l?(a?.(),!1):!0});r.useEffect(()=>{let l;const g=()=>b.cancel(l),S=()=>{l=b(()=>{d()&&S()})};return S(),g},[n,c]),r.useEffect(()=>{f({})},[]);const p=(l,g)=>s?ne(l,Object.assign(Object.assign({},g),{format:o}),c):"-",u=l=>A(l,{title:void 0});return r.createElement(y,Object.assign({},i,{value:n,valueRender:u,formatter:p}))},re=t=>r.createElement(C,Object.assign({},t,{type:"countdown"})),se=r.memo(re);y.Timer=C;y.Countdown=se;export{le as R,y as S};
