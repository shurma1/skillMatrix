import{U,r as i,j as a,V as c,w as d,z as f}from"./index-C2zTCuKe.js";const x=({user:t,size:n=40})=>{const r=t.avatar_id||void 0,{data:s,isFetching:m}=U({id:r,thumb:!0},{skip:!r}),[p,o]=i.useState(null);i.useEffect(()=>{if(s){const e=URL.createObjectURL(s);return o(e),()=>URL.revokeObjectURL(e)}o(null)},[s]);const l=i.useMemo(()=>{const e=[t.lastname,t.firstname,t.patronymic].filter(Boolean);return e.length?e.map(j=>j[0]).join("").slice(0,2).toUpperCase():t.login.slice(0,2).toUpperCase()},[t]);return r?a.jsx(d,{title:`${t.lastname} ${t.firstname}`.trim(),children:a.jsx(c,{size:n,src:p||void 0,children:m?a.jsx(f,{size:"small"}):l})}):a.jsx(c,{size:n,children:l})};export{x as U};
